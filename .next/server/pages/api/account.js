"use strict";(()=>{var e={};e.id=100,e.ids=[100],e.modules={1649:e=>{e.exports=require("next-auth/react")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},1357:(e,t,a)=>{a.r(t),a.d(t,{config:()=>o,default:()=>l,routeModule:()=>c});var r={};a.r(r),a.d(r,{default:()=>handler});var i=a(1802),n=a(7153),s=a(6249),u=a(1716),d=a(1649);async function handler(e,t){let a=await (0,d.getSession)({req:e});if(!a)return t.status(401).json({error:"Unauthorized"});let r=a.user.id;if("PUT"===e.method){let{name:a,image:i}=e.body,n=await u.Z.user.update({where:{id:r},data:{name:a,image:i}});return t.status(200).json(n)}if("GET"===e.method){let e=await u.Z.user.findUnique({where:{id:r},select:{id:!0,name:!0,email:!0,image:!0,role:!0}});return t.status(200).json(e)}t.status(405).end()}let l=(0,s.l)(r,"default"),o=(0,s.l)(r,"config"),c=new i.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/account",pathname:"/api/account",bundlePath:"",filename:""},userland:r})},1716:(e,t,a)=>{a.d(t,{Z:()=>s});let r=require("@prisma/client"),i=global,n=i.prisma||new r.PrismaClient,s=n}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[222],()=>__webpack_exec__(1357));module.exports=a})();