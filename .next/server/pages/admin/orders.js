"use strict";(()=>{var e={};e.id=426,e.ids=[426,888,660],e.modules={26:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>g,default:()=>p,getServerSideProps:()=>h,getStaticPaths:()=>x,getStaticProps:()=>m,reportWebVitals:()=>v,routeModule:()=>N,unstable_getServerProps:()=>f,unstable_getServerSideProps:()=>j,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>P,unstable_getStaticProps:()=>S});var s=r(7093),i=r(5244),d=r(1323),l=r(9209),n=r.n(l),c=r(4495),o=r(3465),u=e([o]);o=(u.then?(await u)():u)[0];let p=(0,d.l)(o,"default"),m=(0,d.l)(o,"getStaticProps"),x=(0,d.l)(o,"getStaticPaths"),h=(0,d.l)(o,"getServerSideProps"),g=(0,d.l)(o,"config"),v=(0,d.l)(o,"reportWebVitals"),S=(0,d.l)(o,"unstable_getStaticProps"),P=(0,d.l)(o,"unstable_getStaticPaths"),b=(0,d.l)(o,"unstable_getStaticParams"),f=(0,d.l)(o,"unstable_getServerProps"),j=(0,d.l)(o,"unstable_getServerSideProps"),N=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/admin/orders",pathname:"/admin/orders",bundlePath:"",filename:""},components:{App:c.default,Document:n()},userland:o});a()}catch(e){a(e)}})},3465:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>AdminOrders,getServerSideProps:()=>getServerSideProps});var s=r(997),i=r(1649),d=r(6689),l=r(9648),n=e([l]);function AdminOrders(){let[e,t]=(0,d.useState)([]);async function load(){let e=await l.default.get("/api/admin/orders");t(e.data)}async function updateOrder(e,t){await l.default.put(`/api/admin/orders/${e}`,t),load()}return(0,d.useEffect)(()=>{load()},[]),(0,s.jsxs)("div",{className:"max-w-5xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Orders"}),s.jsx("div",{className:"space-y-3",children:e.map(e=>(0,s.jsxs)("div",{className:"border p-3 rounded",children:[(0,s.jsxs)("div",{className:"font-semibold",children:["Order ",e.id]}),(0,s.jsxs)("div",{className:"text-sm",children:["User: ",e.userId]}),(0,s.jsxs)("div",{children:["Status: ",e.status," ",e.verified?"(Verified)":""]}),(0,s.jsxs)("div",{children:["Amount: â‚¹",(e.amount/100).toFixed(2)]}),(0,s.jsxs)("div",{className:"mt-2",children:[s.jsx("label",{className:"block text-sm",children:"Status"}),(0,s.jsxs)("select",{defaultValue:e.status,onChange:t=>updateOrder(e.id,{status:t.target.value}),className:"p-1 border rounded",children:[s.jsx("option",{value:"PENDING",children:"PENDING"}),s.jsx("option",{value:"PAID",children:"PAID"}),s.jsx("option",{value:"SHIPPED",children:"SHIPPED"}),s.jsx("option",{value:"COMPLETED",children:"COMPLETED"}),s.jsx("option",{value:"CANCELLED",children:"CANCELLED"})]})]}),(0,s.jsxs)("div",{className:"mt-2",children:[s.jsx("label",{className:"block text-sm",children:"Tracking Number"}),s.jsx("input",{defaultValue:e.trackingNo||"",onBlur:t=>updateOrder(e.id,{trackingNo:t.target.value}),className:"p-1 border rounded w-full"})]}),s.jsx("div",{className:"mt-2",children:(0,s.jsxs)("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:e.verified,onChange:t=>updateOrder(e.id,{verified:t.target.checked})})," Verified"]})})]},e.id))})]})}async function getServerSideProps(e){let t=await (0,i.getSession)(e);return t&&t.user?.role==="ADMIN"?{props:{}}:{redirect:{destination:"/api/auth/signin",permanent:!1}}}l=(n.then?(await n)():n)[0],a()}catch(e){a(e)}})},1649:e=>{e.exports=require("next-auth/react")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},9648:e=>{e.exports=import("axios")},1017:e=>{e.exports=require("path")},7310:e=>{e.exports=require("url")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[801,994,664,450,495],()=>__webpack_exec__(26));module.exports=r})();