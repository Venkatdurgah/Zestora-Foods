exports.id=495,exports.ids=[495],exports.modules={4279:(e,t,r)=>{"use strict";r.d(t,{Z:()=>CartProvider,j:()=>useCart});var n=r(997),s=r(6689);let a=(0,s.createContext)();function CartProvider({children:e}){let[t,r]=(0,s.useState)([]);function add(e){r(t=>{let r=t.findIndex(t=>t.id===e.id);if(r>=0){let n=[...t];return n[r].quantity+=e.quantity||1,n}return[...t,{...e,quantity:e.quantity||1}]})}function remove(e){r(t=>t.filter(t=>t.id!==e))}function updateQty(e,t){r(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))}function clear(){r([])}(0,s.useEffect)(()=>{try{let e=localStorage.getItem("cart");e&&r(JSON.parse(e))}catch(e){}},[]),(0,s.useEffect)(()=>{try{localStorage.setItem("cart",JSON.stringify(t))}catch(e){}},[t]);let i=t.reduce((e,t)=>e+t.price*t.quantity,0);return n.jsx(a.Provider,{value:{cart:t,add,remove,updateQty,clear,total:i},children:e})}function useCart(){return(0,s.useContext)(a)}},4495:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>App});var n=r(997);r(108);var s=r(1649),a=r(4279),i=r(1664),c=r.n(i);function Header(){let{data:e}=(0,s.useSession)(),{cart:t}=(0,a.j)();return n.jsx("header",{className:"bg-white shadow-sm",children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto flex items-center justify-between p-4",children:[n.jsx(c(),{href:"/",className:"text-xl font-bold",children:"Zestora"}),(0,n.jsxs)("nav",{className:"flex items-center space-x-4",children:[n.jsx(c(),{href:"/",children:"Home"}),(0,n.jsxs)(c(),{href:"/cart",children:["Cart (",t.length,")"]}),e?(0,n.jsxs)(n.Fragment,{children:[n.jsx(c(),{href:"/account/orders",children:"My Orders"}),n.jsx("button",{onClick:()=>(0,s.signOut)(),className:"px-3 py-1 border rounded",children:"Sign out"})]}):n.jsx("button",{onClick:()=>(0,s.signIn)("google"),className:"px-3 py-1 border rounded",children:"Sign in"})]})]})})}function App({Component:e,pageProps:{session:t,...r}}){return n.jsx(s.SessionProvider,{session:t,children:(0,n.jsxs)(a.Z,{children:[n.jsx(Header,{}),n.jsx(e,{...r})]})})}},108:()=>{}};